package com.orobator.android.gramophone.view.fragments;import android.app.Fragment;import android.app.LoaderManager;import android.content.Loader;import android.database.Cursor;import android.os.Bundle;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.LinearLayout;import com.fortysevendeg.android.swipelistview.SwipeListView;import com.orobator.android.gramophone.R;import com.orobator.android.gramophone.controller.listeners.SongClickListener;import com.orobator.android.gramophone.controller.listeners.SongSwipeViewListener;import com.orobator.android.gramophone.model.SongDatabaseHelper.SongCursor;import com.orobator.android.gramophone.model.loaders.SongCursorLoader;import com.orobator.android.gramophone.view.adapters.SongCursorAdapter;/** * Fragment that displays songs for a selected genre. */public class GenreSongsFragment extends Fragment implements LoaderManager.LoaderCallbacks<Cursor> {    public static final String TAG = "GenreSongsFragment";    private SwipeListView mSwipeListView;    @Override    public Loader<Cursor> onCreateLoader(int id, Bundle args) {        return new SongCursorLoader(getActivity(), id, args);    }    @Override    public void onLoadFinished(Loader<Cursor> loader, Cursor cursor) {        SongCursor songCursor = (SongCursor) cursor;        SongCursorAdapter adapter = new SongCursorAdapter(getActivity().getApplicationContext(), songCursor, this);        mSwipeListView.setAdapter(adapter);        mSwipeListView.setOnItemClickListener(new SongClickListener(adapter, this));        mSwipeListView.setSwipeListViewListener(new SongSwipeViewListener(adapter, this));    }    @Override    public void onLoaderReset(Loader<Cursor> loader) {        mSwipeListView.setAdapter(null);    }    @Override    public void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setRetainInstance(true);        Bundle args = getArguments();        getLoaderManager().initLoader(SongCursorLoader.GENRE_SONGS_ID, args, this);    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {        View view = inflater.inflate(R.layout.list_view_songs, parent, false);        if (view != null) {            mSwipeListView = (SwipeListView) view.findViewById(R.id.list_view_songs);        }        LinearLayout emptyView = (LinearLayout) inflater.inflate(R.layout.list_view_songs_empty, parent, false);        // TODO get this working.        mSwipeListView.setEmptyView(emptyView);        return view;    }}