package com.orobator.android.gramophone.controller.broadcast.receivers;import android.content.BroadcastReceiver;import android.content.Context;import android.content.Intent;import android.util.Log;import android.view.KeyEvent;import android.widget.Toast;import com.orobator.android.gramophone.R;import com.orobator.android.gramophone.controller.services.MusicPlayerService;/** * RemoteControlReceiver is the class that gets calls to its onReceive(...) * method whenever a media button is pressed, for example playback controls on a * set of headphones. */public class RemoteControlReceiver extends BroadcastReceiver {    private static final String TAG = "RemoteControlReceiver";    @Override    public void onReceive(Context context, Intent intent) {        if (Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {            KeyEvent keyEvent = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);            switch (keyEvent.getAction()) {                case KeyEvent.KEYCODE_MEDIA_NEXT:                    Intent nextIntent = new Intent(context, MusicPlayerService.class);                    nextIntent.setAction(MusicPlayerService.ACTION_NEXT);                    context.startService(nextIntent);                    break;                case KeyEvent.KEYCODE_MEDIA_PAUSE:                    Intent pauseIntent = new Intent(context, MusicPlayerService.class);                    pauseIntent.setAction(MusicPlayerService.ACTION_PAUSE);                    context.startService(pauseIntent);                    break;                case KeyEvent.KEYCODE_MEDIA_PLAY:                    Intent playIntent = new Intent(context, MusicPlayerService.class);                    playIntent.setAction(MusicPlayerService.ACTION_PLAY);                    context.startService(playIntent);                    break;                case KeyEvent.KEYCODE_UNKNOWN: // Catch all unknown keys and just toggle playback                case KeyEvent.KEYCODE_SOFT_LEFT: // Apple headphones                case KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE:                    Intent toggleIntent = new Intent(context, MusicPlayerService.class);                    toggleIntent.setAction(MusicPlayerService.ACTION_TOGGLE_PLAYBACK);                    context.startService(toggleIntent);                    break;                case KeyEvent.KEYCODE_MEDIA_PREVIOUS:                    Intent prevIntent = new Intent(context, MusicPlayerService.class);                    prevIntent.setAction(MusicPlayerService.ACTION_PREV);                    context.startService(prevIntent);                    break;                case KeyEvent.KEYCODE_MEDIA_STOP:                    Intent stopIntent = new Intent(context, MusicPlayerService.class);                    stopIntent.setAction(MusicPlayerService.ACTION_STOP);                    context.startService(stopIntent);                    break;                default:                    String actionNotSupported = context.getString(R.string.action_not_supported);                    // TODO: test this                    Toast.makeText(context, actionNotSupported, Toast.LENGTH_SHORT).show();                    Log.d(TAG, KeyEvent.keyCodeToString(keyEvent.getAction()));                    break;            }        }    }}